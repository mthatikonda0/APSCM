@model AGE.CMS.Data.Models.Timeline.viewTimeLine
@{
    ViewBag.Title = "Timeline";
}

<style>
    .timeline {
        list-style: none;
        padding: 20px 0 20px;
        position: relative;
    }

        .timeline:before {
            top: 0;
            bottom: 0;
            position: absolute;
            content: " ";
            width: 3px;
            background-color: #eeeeee;
            left: 50%;
            margin-left: -1.5px;
        }

        .timeline > li {
            margin-bottom: 20px;
            position: relative;
        }

            .timeline > li:before,
            .timeline > li:after {
                content: " ";
                display: table;
            }

            .timeline > li:after {
                clear: both;
            }

            .timeline > li:before,
            .timeline > li:after {
                content: " ";
                display: table;
            }

            .timeline > li:after {
                clear: both;
            }

            .timeline > li > .timeline-panel {
                width: 46%;
                float: left;
                border: 1px solid #d4d4d4;
                border-radius: 2px;
                padding: 20px;
                position: relative;
                -webkit-box-shadow: 0 1px 6px rgba(0, 0, 0, 0.175);
                box-shadow: 0 1px 6px rgba(0, 0, 0, 0.175);
            }

                .timeline > li > .timeline-panel:before {
                    position: absolute;
                    top: 26px;
                    right: -15px;
                    display: inline-block;
                    border-top: 15px solid transparent;
                    border-left: 15px solid #ccc;
                    border-right: 0 solid #ccc;
                    border-bottom: 15px solid transparent;
                    content: " ";
                }

                .timeline > li > .timeline-panel:after {
                    position: absolute;
                    top: 27px;
                    right: -14px;
                    display: inline-block;
                    border-top: 14px solid transparent;
                    border-left: 14px solid #fff;
                    border-right: 0 solid #fff;
                    border-bottom: 14px solid transparent;
                    content: " ";
                }

            .timeline > li > .timeline-badge {
                color: #fff;
                width: 50px;
                height: 50px;
                line-height: 50px;
                font-size: 1.4em;
                text-align: center;
                position: absolute;
                top: 16px;
                left: 50%;
                margin-left: -25px;
                background-color: #999999;
                z-index: 100;
                border-top-right-radius: 50%;
                border-top-left-radius: 50%;
                border-bottom-right-radius: 50%;
                border-bottom-left-radius: 50%;
            }

            .timeline > li.timeline-inverted > .timeline-panel {
                float: right;
            }

                .timeline > li.timeline-inverted > .timeline-panel:before {
                    border-left-width: 0;
                    border-right-width: 15px;
                    left: -15px;
                    right: auto;
                }

                .timeline > li.timeline-inverted > .timeline-panel:after {
                    border-left-width: 0;
                    border-right-width: 14px;
                    left: -14px;
                    right: auto;
                }

    .timeline-badge.primary {
        background-color: #2e6da4 !important;
    }

    .timeline-badge.success {
        background-color: #3f903f !important;
    }

    .timeline-badge.warning {
        background-color: #f0ad4e !important;
    }

    .timeline-badge.danger {
        background-color: #d9534f !important;
    }

    .timeline-badge.info {
        background-color: #5bc0de !important;
    }

    .timeline-title {
        margin-top: 0;
        color: inherit;
    }

    .timeline-body > p,
    .timeline-body > ul {
        margin-bottom: 0;
    }

        .timeline-body > p + p {
            margin-top: 5px;
        }
    /* by nano */
    @*@media (max-width: 767px) {
        ul.timeline:before {
            left: 40px;
        }

        ul.timeline > li > .timeline-panel {
            width: calc(100% - 90px);
            width: -moz-calc(100% - 90px);
            width: -webkit-calc(100% - 90px);
        }

        ul.timeline > li > .timeline-badge {
            left: 15px;
            margin-left: 0;
            top: 16px;
        }

        ul.timeline > li > .timeline-panel {
            float: right;
        }

            ul.timeline > li > .timeline-panel:before {
                border-left-width: 0;
                border-right-width: 15px;
                left: -15px;
                right: auto;
            }

            ul.timeline > li > .timeline-panel:after {
                border-left-width: 0;
                border-right-width: 14px;
                left: -14px;
                right: auto;
            }
    }

    *@
</style>

<script>
    $(document).ready(function () {
        $('#print').on('click', function () {


            var template = $('#TimeLineData').clone();

            template.find("#heading").show();
            template.find('.noprint').remove();
            Print(template);
        });

        function Print(template) {
            //alert(template.html());
            //var w = window.open();
            var w = window.open("", "popupWindow", "width=600, height=400, scrollbars=yes");
            var html = template.html();

            $(w.document.body).html(html);

            w.print();

        }

        $("#heading").hide();

    });


</script>
<div class="container" id="TimeLineData">

    <div class="panel panel-warning">

        <div class="panel-heading">
            <h2 class="panel-title">
                <span class="titletextbegin">
                    <span class="glyphicon glyphicon-time"></span><span class="textspace">
                        <text>Timeline</text>
                    </span>
                </span>
            </h2>
        </div>

        <div class="panel-body">

                        <div class="form-group">
                <div class ="row"
                <div class="col-md-1 pull-right">
                    
                    <div class="btn-group pull-right" style="margin-right: 10px;">
                        <input type="button" class="btn btn-warning noprint" id="print" value ="Print " />
                        <a id="cancel" rel="tooltip" class="btn btn-default btn-md noprint" title=" Cancel " href='@Url.Action("ManageCase", "Case", new { CaseheaderId = Model.viewCaseHeader.Id })'>Cancel</a>
                    </div>
            </div>
                    </div>

                                          <div class="row nextline" id="heading" style="border-bottom: 2px solid black">
                    <div class="pull-left" id="logoidoa" style="float:left">
                        <div id="imagelogo" align="center" style="float:left">
                            <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                                 width="185px" height="70px" viewBox="0 0 250.000000 99.000000"
                                 preserveAspectRatio="xMidYMid meet">

                                <g transform="translate(0.000000,99.000000) scale(0.100000,-0.100000)"
                                   fill="#000000" stroke="none">
                                    <path d="M310 903 c0 -7 5 -13 10 -13 6 0 10 -7 10 -15 0 -8 5 -15 10 -15 31
                                    0 -4 -58 -38 -63 -35 -5 -49 -24 -35 -46 10 -16 8 -24 -14 -47 -16 -18 -28
                                    -44 -31 -69 -4 -36 0 -47 29 -80 18 -21 33 -47 34 -59 0 -17 5 -20 28 -18 30
                                    3 34 -11 15 -53 -10 -23 -9 -29 14 -50 14 -13 28 -22 31 -19 9 9 27 -24 31
                                    -55 2 -18 8 -37 13 -42 6 -6 139 -9 344 -7 322 3 336 4 379 25 44 22 44 22 65
                                    3 39 -37 70 -41 256 -34 165 7 179 9 179 26 0 14 -8 18 -34 18 -19 0 -38 5
                                    -41 11 -4 5 7 45 24 87 l31 77 132 -2 132 -2 27 -68 c39 -95 38 -103 -11 -103
                                    -33 0 -40 -3 -40 -20 0 -19 7 -20 135 -20 128 0 135 1 135 20 0 14 -7 20 -22
                                    20 -13 0 -29 4 -36 9 -13 8 -163 345 -249 559 -20 49 -29 62 -47 62 -17 0 -27
                                    -14 -50 -67 -16 -38 -53 -123 -84 -191 l-55 -123 -13 36 c-24 71 -95 121 -183
                                    132 -43 5 -49 9 -60 39 -6 18 -37 55 -67 83 -91 83 -96 84 -556 86 -328 2
                                    -398 0 -398 -12z m113 -15 c3 -11 17 -18 43 -20 37 -3 39 -5 46 -43 7 -38 -2
                                    -207 -9 -175 -3 13 -24 14 -128 12 -69 -2 -125 -1 -125 2 0 3 9 20 20 38 13
                                    23 16 38 10 48 -15 23 -12 30 10 30 26 0 70 43 70 68 0 11 -7 25 -15 32 -26
                                    21 -17 30 29 28 32 -2 46 -8 49 -20z m310 -58 c5 -19 7 -145 5 -278 -6 -271
                                    -4 -264 -73 -260 l-40 3 -3 279 c-2 217 1 281 10 288 7 4 31 7 52 6 36 -3 41
                                    -6 49 -38z m327 20 c59 -11 112 -46 141 -94 37 -59 35 -72 -13 -124 -33 -35
                                    -48 -62 -58 -100 -12 -53 -7 -130 11 -164 7 -14 3 -20 -18 -31 -59 -31 -180
                                    -45 -252 -31 l-31 7 0 268 0 268 23 4 c43 8 145 7 197 -3z m753 -227 l45 -103
                                    -108 0 -108 0 50 113 c27 61 52 119 56 127 4 10 8 7 13 -10 4 -14 27 -71 52
                                    -127z m-376 2 c51 -58 68 -197 34 -272 -31 -67 -90 -89 -158 -56 -55 26 -61
                                    52 -25 102 41 56 64 131 66 206 l1 62 30 -8 c17 -5 40 -20 52 -34z m-202 -113
                                    c-4 -26 -10 -41 -12 -34 -3 7 -2 34 2 60 4 26 10 41 12 34 3 -7 2 -34 -2 -60z">


                                    </path>
                                </g>
                            </svg><br />
                        </div>
                    </div>

                    <h2 style="text-align: center"> Illinois Department on Aging APS</h2>

                    <h3 style="text-align: center"> Case Plan Reporting Form </h3>
                </div>




            <div id="viewclient">
                @Html.Partial("_viewClientCMS", Model.viewCaseHeader.Client)
            </div>

            <div id="myTimeline">
                <div style="border:solid 1px;">
                    <div style="margin:20px;">                        
                        <ul class="timeline">
                            <li>
                                <div class="timeline-badge"></div>
                                <div class="timeline-panel">
                                    <div class="timeline-heading">
                                        <div class="timeline-title">
                                            <b> Intake and Preparation </b>
                                            <div class="timeline-body">
                                                <table style=" width:100%" class="table table-striped">
                                                    <tr>
                                                        <td>Intake Date </td>
                                                        <td>@Model.DateIntake.Value.ToShortDateString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Discuss Intake and Preparation with Supervisor before </td>
                                                        <td>@Model.IntialFTFDate.ToShortDateString()</td>
                                                    </tr>
                                                </table>
                                                @*<p>
                                                    Intake Date = @Model.DateIntake.Value.ToShortDateString()<br />
                                                    Discuss Intake and Preparation with Supervisor before = @Html.DisplayFor(model => model.IntialFTFDate)<br />
                                                </p>*@
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>


                            <li class="timeline-inverted">
                                <div class="timeline-badge warning"></div>
                                <div class="timeline-panel">
                                    <div class="timeline-heading">
                                        <div class="timeline-title">
                                            <b> Assessment </b>(Within 30 days of date of intake unless 15 day extension applies)
                                            <div class="timeline-body">
                                                <table style=" width:100%" class="table table-striped">
                                                    @*<tr>
                                                        <td>Initial Face-To-Face Due Date </td>
                                                        <td>@Model.IntialFTFDate.ToShortDateString()</td>
                                                    </tr>*@
                                                    <tr>
                                                        <td>Substantiation Decision Due Date </td>
                                                        <td>@Model.SubstantiationDecisionDueDate.ToShortDateString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Report of Substantiation Due Date </td>
                                                        <td>@Model.ReportOfSubstantiationDueDate.ToShortDateString()</td>
                                                    </tr>
                                                </table>
                                                @*<p>

                                                    Initial Face-To-Face Due Date = @Html.DisplayFor(model => model.IntialFTFDate)<br />
                                                    Substantiation Decision Due Date = @Html.DisplayFor(model => model.SubstantiationDecisionDueDate)<br />
                                                    Report of Substantiation Due Date = @Html.DisplayFor(model => model.ReportOfSubstantiationDueDate)<br />
                                                </p>*@
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div class="timeline-badge danger"></div>
                                <div class="timeline-panel">
                                    <div class="timeline-heading">
                                        <div class="timeline-title">
                                            <b> Casework </b><br />(90 days from date of intake. Two Face-To-Face visits required between 30-90 days. The second visit should be the 3-month risk assessment.)
                                            <div class="timeline-body">
                                                <table style=" width:100%" class="table table-striped">
                                                    <tr>
                                                        <td>30-90 Day Time Frame</td>
                                                        <td>From : @Model.FirstCaseworkFTFDueFromDate.ToShortDateString()</td>
                                                        <td>To : @Model.FirstCaseworkFTFDueToDate.ToShortDateString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Second Casework Face-To-Face Due Date </td>
                                                        <td>Earliest : @Model.SecondCaseworkFTFDueFromDate.ToShortDateString()</td>
                                                        <td>Latest : @Model.SecondCaseworkFTFDueToDate.ToShortDateString()</td>
                                                    </tr>
                                                </table>
                                                @*<p>

                                                    First Casework Face-To-Face Due Date from = @Html.DisplayFor(model => model.FirstCaseworkFTFDueFromDate)  @Html.DisplayFor(model => model.FirstCaseworkFTFDueToDate) <br />
                                                    Second Casework Face-To-Face Due Date from = @Html.DisplayFor(model => model.SecondCaseworkFTFDueFromDate)  @Html.DisplayFor(model => model.SecondCaseworkFTFDueToDate) <br />

                                                </p>*@
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </li>
                            <li class="timeline-inverted">
                                <div class="timeline-badge warning"></div>
                                <div class="timeline-panel">
                                    <div class="timeline-heading">
                                        <div class="timeline-title">
                                            <b> Follow-Up </b>
                                            <div class="timeline-body">
                                                <table style=" width:100%" class="table table-striped">
                                                    <tr>
                                                        <td>Month 4 Contact Due Date </td>
                                                        <td>@Model.Month4ContactDate.ToShortDateString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Month 5 Contact Due Date </td>
                                                        <td>@Model.Month5ContactDate.ToShortDateString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Month 6 Contact Due Date </td>
                                                        <td>Earliest : @Model.Month6RiskAssessmentUpdateDateEarliest.ToShortDateString()</td>
                                                        <td>Latest : @Model.Month6RiskAssessmentUpdateDateLatest.ToShortDateString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Month 7 Contact Due Date </td>
                                                        <td>@Model.Month7ContactDate.ToShortDateString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Month 8 Contact Due Date </td>
                                                        <td>@Model.Month8ContactDate.ToShortDateString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Month 9 Contact Due Date </td>
                                                        <td>Earliest : @Model.Month9RiskAssessmentUpdateDateEarliest.ToShortDateString()</td>
                                                        <td>Latest : @Model.Month9RiskAssessmentUpdateDateLatest.ToShortDateString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Month 10 Contact Due Date </td>
                                                        <td>@Model.Month10ContactDate.ToShortDateString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Month 11 Contact Due Date </td>
                                                        <td>@Model.Month11ContactDate.ToShortDateString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Month 12 Contact Due Date </td>
                                                        <td>Earliest : @Model.Month12RiskAssessmentUpdateDateEarliest.ToShortDateString()</td>
                                                        <td>Latest : @Model.Month12RiskAssessmentUpdateDateLatest.ToShortDateString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Month 13 Contact Due Date </td>
                                                        <td>@Model.Month13ContactDate.ToShortDateString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Month 14 Contact Due Date </td>
                                                        <td>@Model.Month14ContactDate.ToShortDateString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Month 15 Contact Due Date </td>
                                                        <td>Earliest : @Model.Month15RiskAssessmentUpdateDateEarliest.ToShortDateString()</td>
                                                        <td>Latest : @Model.Month15RiskAssessmentUpdateDateLatest.ToShortDateString()</td>
                                                    </tr>
                                                </table>
                                                @*<p>

                                                    Month 4 Contact Due Date =  @Html.DisplayFor(model => model.Month4ContactDate) <br />
                                                    Month 5 Contact Due Date =  @Html.DisplayFor(model => model.Month5ContactDate) <br />
                                                    Month 6 Contact Due Date =  @Html.DisplayFor(model => model.Month6RiskAssessmentUpdateDate) <br />
                                                    Month 7 Contact Due Date =  @Html.DisplayFor(model => model.Month7ContactDate) <br />
                                                    Month 8 Contact Due Date =  @Html.DisplayFor(model => model.Month8ContactDate) <br />
                                                    Month 9 Contact Due Date =  @Html.DisplayFor(model => model.Month9RiskAssessmentUpdateDate) <br />
                                                    Month 10 Contact Due Date =  @Html.DisplayFor(model => model.Month10ContactDate) <br />
                                                    Month 11 Contact Due Date =  @Html.DisplayFor(model => model.Month11ContactDate) <br />
                                                    Month 12 Contact Due Date =  @Html.DisplayFor(model => model.Month12RiskAssessmentUpdateDate) <br />
                                                    Month 13 Contact Due Date =  @Html.DisplayFor(model => model.Month13ContactDate) <br />
                                                    Month 14 Contact Due Date =  @Html.DisplayFor(model => model.Month14ContactDate) <br />
                                                    Month 15 Contact Due Date =  @Html.DisplayFor(model => model.Month15RiskAssessmentUpdateDate) <br />


                                                </p>*@
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>

                        </ul>
                    </div>
                </div><br />
            </div>
        </div>
    </div>

</div>


@*<script>
        $(document).ready(function () {
            var dataArray = [];
                $.ajax({
                    url: '@Url.Action("GetTimelineData", "Case")',
                    data: JSON.stringify({}),
                    type: "Post",
                    datatype: "json",
                    contentType: "application/json; charset=utf-8"
                }).then(function (data) {
                    var result = Object.keys(data).map(function (key) {
                        return data[key];
                    });
                    for (var i = 0; i < result.length; i++)
                    {
                        var listing = result[i];

                    }
                    var casedetail = [];
                    var html = '';
                    for (var m = 0; m < listing.length; m++)
                    {

                        html = '<a  href="#case' + m + '" data-toggle="collapse"><h4><b><u>'
                        html = html + 'Client Name : ' + listing[m].Client.Person.LastName + ',' + listing[m].Client.Person.FirstName + '</u></b></h4></a>';
                        html = html + '<div id = "case' + m + '" data-toggle="collapse"  class="collapse">';

                        for (var m1 = 0; m1 < listing[m].ListOfCaseDetail.length; m1++) {

                        //var intakedate = new Date(parseInt(listing[m].Intake.DateIntake.substr(6))).toDateString();
                        //var initialftfdate = new Date(parseInt(listing[m].Intake.IntialFTFDate.substr(6))).toDateString();
                        //var substantiationduedate = new Date(parseInt(listing[m].Intake.SubstantiationDecisionDueDate.substr(6))).toDateString();
                        //var reportofsubstantiationduedate = new Date(parseInt(listing[m].Intake.ReportOfSubstantiationDueDate.substr(6))).toDateString();
                        //var firstcaseworkftfduefromdate = new Date(parseInt(listing[m].Intake.FirstCaseworkFTFDueFromDate.substr(6))).toDateString();
                        //var firstcaseworkftfduetodate = new Date(parseInt(listing[m].Intake.FirstCaseworkFTFDueToDate.substr(6))).toDateString();
                        //var secondcaseworkftfduefromdate = new Date(parseInt(listing[m].Intake.SecondCaseworkFTFDueFromDate.substr(6))).toDateString();
                        //var secondcaseworkftfduetodate = new Date(parseInt(listing[m].Intake.SecondCaseworkFTFDueToDate.substr(6))).toDateString();
                        //var month4contactdate = new Date(parseInt(listing[m].Intake.Month4ContactDate.substr(6))).toDateString();
                        //var month5contactdate = new Date(parseInt(listing[m].Intake.Month5ContactDate.substr(6))).toDateString();
                        //var month6contactdate = new Date(parseInt(listing[m].Intake.Month6RiskAssessmentUpdateDate.substr(6))).toDateString();
                        //var month7contactdate = new Date(parseInt(listing[m].Intake.Month7ContactDate.substr(6))).toDateString();
                        //var month8contactdate = new Date(parseInt(listing[m].Intake.Month8ContactDate.substr(6))).toDateString();
                        //var month9contactdate = new Date(parseInt(listing[m].Intake.Month9RiskAssessmentUpdateDate.substr(6))).toDateString();
                        //var month10contactdate = new Date(parseInt(listing[m].Intake.Month10ContactDate.substr(6))).toDateString();
                        //var month11contactdate = new Date(parseInt(listing[m].Intake.Month11ContactDate.substr(6))).toDateString();
                        //var month12contactdate = new Date(parseInt(listing[m].Intake.Month12RiskAssessmentUpdateDate.substr(6))).toDateString();
                        //var month13contactdate = new Date(parseInt(listing[m].Intake.Month13ContactDate.substr(6))).toDateString();
                        //var month14contactdate = new Date(parseInt(listing[m].Intake.Month14ContactDate.substr(6))).toDateString();
                        //var month15contactdate = new Date(parseInt(listing[m].Intake.Month15RiskAssessmentUpdateDate.substr(6))).toDateString();

                            var intakedate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.DateIntake.substr(6))).toDateString();
                            var initialftfdate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.IntialFTFDate.substr(6))).toDateString();
                            var substantiationduedate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.SubstantiationDecisionDueDate.substr(6))).toDateString();
                            var reportofsubstantiationduedate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.ReportOfSubstantiationDueDate.substr(6))).toDateString();
                            var firstcaseworkftfduefromdate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.FirstCaseworkFTFDueFromDate.substr(6))).toDateString();
                            var firstcaseworkftfduetodate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.FirstCaseworkFTFDueToDate.substr(6))).toDateString();
                            var secondcaseworkftfduefromdate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.SecondCaseworkFTFDueFromDate.substr(6))).toDateString();
                            var secondcaseworkftfduetodate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.SecondCaseworkFTFDueToDate.substr(6))).toDateString();
                            var month4contactdate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.Month4ContactDate.substr(6))).toDateString();
                            var month5contactdate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.Month5ContactDate.substr(6))).toDateString();
                            var month6contactdate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.Month6RiskAssessmentUpdateDate.substr(6))).toDateString();
                            var month7contactdate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.Month7ContactDate.substr(6))).toDateString();
                            var month8contactdate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.Month8ContactDate.substr(6))).toDateString();
                            var month9contactdate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.Month9RiskAssessmentUpdateDate.substr(6))).toDateString();
                            var month10contactdate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.Month10ContactDate.substr(6))).toDateString();
                            var month11contactdate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.Month11ContactDate.substr(6))).toDateString();
                            var month12contactdate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.Month12RiskAssessmentUpdateDate.substr(6))).toDateString();
                            var month13contactdate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.Month13ContactDate.substr(6))).toDateString();
                            var month14contactdate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.Month14ContactDate.substr(6))).toDateString();
                            var month15contactdate = new Date(parseInt(listing[m].ListOfCaseDetail[m1].Intake.Month15RiskAssessmentUpdateDate.substr(6))).toDateString();


                            html = html + '<div style="border:solid 1px;">';

                            html = html + '<div style="margin:20px;"><h3><b>Priority = ' + listing[m].ListOfCaseDetail[m1].Intake.PriorityId + '</b></h3><br/>';

                            html = html + '<ul class = "timeline">';
                            html = html + '<li><div class="timeline-badge"><i class="glyphicon glyphicon-check"></i></div>';
                            html = html + '<div class="timeline-panel"><div class="timeline-heading"><h4 class="timeline-title"><b> Intake and Preparation </b>';
                            html = html + '<div class="timeline-body"><p>';
                            html = html + 'Intake Date = ' + intakedate + '<br/>';
                            html = html + 'Discuss Intake and Preparation with Supervisor before = ' + initialftfdate;
                            html = html + '</p></div></div></li>';

                            html = html + '<li class="timeline-inverted"><div class="timeline-badge warning"><i class="glyphicon glyphicon-credit-card"></i></div>';
                            html = html + '<div class="timeline-panel"><div class="timeline-heading"><h4 class="timeline-title"><b> Assessment </b>';
                            html = html + '<div class="timeline-body"><p>';
                            html = html + 'Initial Face-To-Face Due Date = ' + initialftfdate + '<br/>';
                            html = html + 'Substantiation Decision Due Date = ' + substantiationduedate + '<br/>';
                            html = html + 'Report of Substantiation Due Date = ' + reportofsubstantiationduedate + '<br/>';
                            html = html + '</p></div></div></li>';

                            html = html + '<li><div class="timeline-badge danger"><i class="glyphicon glyphicon-credit-card"></i></div>';
                            html = html + '<div class="timeline-panel"><div class="timeline-heading"><h4 class="timeline-title"><b> Casework </b>';
                            html = html + '<div class="timeline-body"><p>';
                            html = html + 'First Casework Face-To-Face Due Date from = ' + firstcaseworkftfduefromdate + ' to ' + firstcaseworkftfduetodate + '<br/>';
                            html = html + 'Second Casework Face-To-Face Due Date from = ' + secondcaseworkftfduefromdate + ' to ' + secondcaseworkftfduetodate + '<br/>';
                            html = html + '</p></div></div></li>';

                            html = html + '<li class="timeline-inverted"><div class="timeline-badge warning"><i class="glyphicon glyphicon-credit-card"></i></div>';
                            html = html + '<div class="timeline-panel"><div class="timeline-heading"><h4 class="timeline-title"><b> Follow-Up </b>';
                            html = html + '<div class="timeline-body"><p>';
                            html = html + 'Month 4 Contact Due Date = ' + month4contactdate + '<br/>';
                            html = html + 'Month 5 Contact Due Date = ' + month5contactdate + '<br/>';
                            html = html + 'Month 6 Contact Due Date = ' + month6contactdate + '<br/>';
                            html = html + 'Month 7 Contact Due Date = ' + month7contactdate + '<br/>';
                            html = html + 'Month 8 Contact Due Date = ' + month8contactdate + '<br/>';
                            html = html + 'Month 9 Contact Due Date = ' + month9contactdate + '<br/>';
                            html = html + 'Month 10 Contact Due Date = ' + month10contactdate + '<br/>';
                            html = html + 'Month 11 Contact Due Date = ' + month11contactdate + '<br/>';
                            html = html + 'Month 12 Contact Due Date = ' + month12contactdate + '<br/>';
                            html = html + 'Month 13 Contact Due Date = ' + month13contactdate + '<br/>';
                            html = html + 'Month 14 Contact Due Date = ' + month14contactdate + '<br/>';
                            html = html + 'Month 15 Contact Due Date = ' + month15contactdate + '<br/>';

                            html = html + '</p></div></div></li>';
                            html = html + '</ul></div></div><br/>';

                        }

                        html = html + '</div>';
                        $('#myTimeline').append(html);
                    }

                });
        });
    </script>*@

